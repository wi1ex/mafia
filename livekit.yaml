# HTTP/API
port: ${LIVEKIT_HTTP_PORT}
bind_addresses:
  - ${TURN_BIND_IP}

health_port: ${LIVEKIT_HEALTH_PORT}
# Логи
logging:
  level: ${LIVEKIT_LOG_LEVEL}

# Идентификация узла и регион (для кластеров)
node_ip: ${SERVER_HOST}
region: ${LIVEKIT_REGION}

# Сигналинг/RTC
rtc:
  port_range_start: ${TURN_RTC_PORT_RANGE_START}
  port_range_end: ${TURN_RTC_PORT_RANGE_END}
  tcp_port: ${LIVEKIT_RTC_TCP_PORT}
  use_external_ip: ${LIVEKIT_RTC_USE_EXTERNAL_IP}
  nat1to1_ips: ${SERVER_HOST}
  # TURN-сервера
  turn_servers:
    - url: turn:${DOMAIN}:${TURN_LISTENING_PORT}
      secret: ${TURN_SECRET}
      ttl: ${TURN_TTL}
    - url: turns:${DOMAIN}:${TURN_TLS_LISTENING_PORT}?transport=tcp
      secret: ${TURN_SECRET}
      ttl: ${TURN_TTL}

# Ключи API (можно заменить на переменную окружения LIVEKIT_KEYS)
keys:
  ${LIVEKIT_API_KEY}: ${LIVEKIT_API_SECRET}

# Redis для сигнального состояния/room-маршрутизации
redis:
  address: ${REDIS_HOST}:${REDIS_PORT}
  password: ${REDIS_PASSWORD}
  db: ${LIVEKIT_DB}
